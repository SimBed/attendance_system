<%= paginate @clients, remote: true %>
<%= page_entries_info @clients %>
<div class="grid-container-client-index">
  <% @clients.each do |client| %>
    <div class="grid-cell name"><%= link_to client.name, admin_client_path(client), class: "like_button" %></div>
    <div class="grid-cell email"><%= client.email %></div>
    <div class="grid-cell email"><%= client.phone %></div>
    <div class="grid-cell email"><%= client.instagram %></div>
    <div class="grid-cell icon">
      <%= link_to image_tag('edit.png', class: "table_icon"), edit_admin_client_path(client), class: "icon-container" %>
    </div>
    <div class="grid-cell icon">
      <%= link_to image_tag('delete.png', class: "table_icon"), admin_client_path(client), method: :delete, data: { confirm: 'Client and its purchases and attendances will be deleted. Are you sure?' }, class: "icon-container" unless logged_in_as?('junioradmin') %>
    </div>
    <div class="grid-cell icon">
      <% if !Account.find_by(email: client.email&.downcase)&.activated? %>
      <%= link_to image_tag('add.png', class: "table_icon"), admin_accounts_path(email: client.email, client_id: client.id, ac_type: 'client'), method: :post, data: { confirm: 'An account for this client will be created. Are you sure?' }, class: "icon-container" unless logged_in_as?('junioradmin') %>
      <% end %>
    </div>
  <% end %>
</div>
